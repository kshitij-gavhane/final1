(function(t){"use strict";t.fn.circliful=function(e){var i=t.extend({startdegree:0,fgcolor:"#556b2f",bgcolor:"#eee",fill:!1,width:15,dimension:200,fontsize:15,percent:50,animationstep:1,iconsize:"20px",iconcolor:"#999",border:"default",complete:null,bordersize:10},e);return this.each(function(){function n(e,i,n){t("<span></span>").appendTo(e).addClass(i).text(a).prepend(d).css({"line-height":n+"px","font-size":u.fontsize+"px"})}
    function o(e,i){t("<span></span>").appendTo(e).addClass("circle-info-half").css("line-height",u.dimension*i+"px").text(l)}
    function r(e){t.each(c,function(n,o){u[o]=void 0!=e.data(o)?e.data(o):t(i).attr(o),"fill"==o&&void 0!=e.data("fill")&&(f=!0)})}
    function s(i){v.clearRect(0,0,g.width,g.height),v.beginPath(),v.arc(y,b,x,k,T,!1),v.lineWidth=u.width+1,v.strokeStyle=u.bgcolor,v.stroke(),f&&(v.fillStyle=u.fill,v.fill()),v.beginPath(),v.arc(y,b,x,-E+I,_*i-E+I,!1),"outline"==u.border?v.lineWidth=u.width+13:"inline"==u.border&&(v.lineWidth=u.width-13),v.strokeStyle=u.fgcolor,v.stroke(),p>C&&(C+=S,requestAnimationFrame(function(){s(Math.min(C,p)/100)},h)),C==p&&$&&void 0!==e&&t.isFunction(e.complete)&&(e.complete(),$=!1)}
    var a,l,c=["fgcolor","bgcolor","fill","width","dimension","fontsize","animationstep","endPercent","icon","iconcolor","iconsize","border","startdegree","bordersize"],u={},d="",p=0,h=t(this),f=!1;if(h.addClass("circliful"),r(h),void 0!=h.data("text")&&(a=h.data("text"),void 0!=h.data("icon")&&(d=t("<i></i>").addClass("fa "+t(this).data("icon")).css({color:u.iconcolor,"font-size":u.iconsize})),void 0!=h.data("type")?(L=t(this).data("type"),"half"==L?n(h,"circle-text-half",u.dimension/1.45):n(h,"circle-text",u.dimension)):n(h,"circle-text",u.dimension)),void 0!=t(this).data("total")&&void 0!=t(this).data("part")){var m=t(this).data("total")/100;var percent=(t(this).data("part")/m/100).toFixed(3),p=(t(this).data("part")/m).toFixed(3)}else void 0!=t(this).data("percent")?(percent=t(this).data("percent")/100,p=t(this).data("percent")):percent=i.percent/100;void 0!=t(this).data("info")&&(l=t(this).data("info"),void 0!=t(this).data("type")?(L=t(this).data("type"),"half"==L?o(h,.9):o(h,1.25)):o(h,1.25)),t(this).width(u.dimension+"px");var g=t("<canvas></canvas>").attr({width:u.dimension,height:u.dimension}).appendTo(t(this)).get(0),v=g.getContext("2d");t(g).parent();var y=g.width/2,b=g.height/2,w=360*u.percent;w*(Math.PI/180);var x=g.width/2.5,T=2.3*Math.PI,k=0,C=0===u.animationstep?p:0,S=Math.max(u.animationstep,0),_=2*Math.PI,E=Math.PI/2,L="",$=!0,I=u.startdegree/180*Math.PI;void 0!=t(this).data("type")&&(L=t(this).data("type"),"half"==L&&(T=2*Math.PI,k=3.13,_=Math.PI,E=Math.PI/.996)),s(C/100)})}}(jQuery))